 metric embed near neighbor classification distance metric play important role near neighbor nn classification usually euclidean distance metric assume mahalanobis distance metric optimize improve nn performance paper study problem embed arbitrary metric space euclidean space goal improve accuracy nn classifier propose solution appeal framework regularization reproducing kernel hilbert space prove representer-like theorem nn classification embed function determine solve semidefinite program interesting connection soft-margin linear binary support vector machine classifier although main focus paper present general theoretical framework metric embedding nn setting demonstrate performance propose method benchmark datasets show perform good mahalanobis metric learn algorithm term leave-one-out generalization error