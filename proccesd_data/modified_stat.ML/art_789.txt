 compose graphical model neural network structured representation fast inference propose general modeling inference framework compose probabilistic graphical model deep learning method combine respective strength model family augments graphical structure latent variable neural network observation model inference extend variational autoencoders use graphical model approximate distribution recognition network output conjugate potential component model learn simultaneously single objective give scalable algorithm leverage stochastic variational inference natural gradient graphical model message passing reparameterization trick illustrate framework several example model application mouse behavioral phenotyping