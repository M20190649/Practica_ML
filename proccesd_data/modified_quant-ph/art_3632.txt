 conditional quantum state engineering repeated -photon conversion u u transformation realize three-mode interaction respective parametric approximation study conditional measurement corresponding non-unitary transformation operator derive application preparation single-mode quantum state use optical feedback loop discuss special emphasis fock state preparation example influence non-perfect detection feedback also consider