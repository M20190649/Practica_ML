 syntactically guided neural machine translation investigate use hierarchical phrase-based smt lattice end-to-end neural machine translation nmt weight push transforms hiero score complete translation hypothesis full translation grammar score full n-gram language model score posterior compatible nmt predictive probability slightly modify nmt beam-search decoder find gain hiero nmt decode alone practical advantage extend nmt large input output vocabulary